# データとアセット設計（To‑Be）

データ区分、保存場所、運用ルールを整理する。  
実装は現状の構成に寄せ、必要な追加は明記する。

---

## データ区分
1) セーブ状態  
- Base State / 進行度 / 時間 など

2) シナリオフラグ  
- イベント完了・分岐選択  
- DIALOGUEで主に更新

3) 時間/日付  
- イベント終了で進む  
- MAPで時間スキップ可能

4) プレイヤー名  
- 「はじめから」で決定  
- スロット内で固定

5) 設定（OPTION）  
- 音量 / キー / 表示 / 速度 / スキップ  
- 即時反映・永続化

---

## 保存場所（現状＋追加）

### current_state（実行中の作業領域）
- `data/current_state/`
  - `completed_events.csv`
  - `time_state.json`
  - `player_name.json`
  - **`story_flags.json`（追加）**

### templates（初期化）
- `data/templates/`
  - `completed_events_template.csv`
  - `time_state_template.json`
  - `player_name_template.json`
  - **`story_flags_template.json`（追加）**

### save（セーブスロット）
- `data/save/`
  - `saveslot_01/` など
  - **`story_flags.json` をスロットに保持**

### settings（共通設定）
- **`data/settings.json`（追加）**

### events（イベント資産）
- `events/`
  - `events.csv`
  - `story_flags.json`（テンプレート/初期値の元）
  - `E001.ks` 〜 `E066.ks`

---

## シナリオフラグ運用
- `events/story_flags.json` を初期値として読み込む  
- ゲーム開始・ロード時に **current_state へ展開**  
- MAIN_MENU に戻ると **初期化**  
- セーブ時はスロットへ保存  
- ロード時はスロットの内容を展開

---

## セーブ方針
- スロット単位で別世界線
- プレイヤー名はスロット固定
- ロードは保存時の状態へ復帰
- 設定はスロット共通（global）

---

## アセット構成
- `images/`  
  - `backgrounds/`  
  - `icons/`  
  - `maps/`  
  - `桃子/`（キャラパーツ）

- `sounds/`  
  - `bgms/`  
  - `ses/`

- `fonts/`  
  - M+ 系

---

## 命名・整理ルール（未決）
- イベントID
- キャラパーツ階層
- UI画像命名
- 例外ファイル（スクショ等）の扱い
